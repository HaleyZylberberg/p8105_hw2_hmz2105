P8105 HW 2
================
Haley Zylberberg

Will first call in tidyverse and readxl libraries.

``` r
library(tidyverse)
```

    ## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
    ## ✔ dplyr     1.1.3     ✔ readr     2.1.4
    ## ✔ forcats   1.0.0     ✔ stringr   1.5.0
    ## ✔ ggplot2   3.4.3     ✔ tibble    3.2.1
    ## ✔ lubridate 1.9.2     ✔ tidyr     1.3.0
    ## ✔ purrr     1.0.2     
    ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
    ## ✖ dplyr::filter() masks stats::filter()
    ## ✖ dplyr::lag()    masks stats::lag()
    ## ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors

``` r
library(readxl)
```

## Problem 2: Clean Trash Wheel Datasets

First, import Trash Wheel dataset, specifically sheet Mr Trash Wheel,
and clean. We need to skip column 1 as it contains pictures, not include
blank columns, and also not import the last row as it includes data
summary elements. We also need to convert dumpert variable to numeric as
it is coded as characters. And finally, we need to pivot the trash types
in order to make a tidy dataset.

``` r
mr_trash_df = 
  read_excel("data/202207 Trash Wheel Collection Data.xlsx",
  sheet = "Mr. Trash Wheel", skip = 1, range = cell_cols(1:14)) |> 
  janitor::clean_names() |>
  subset(!is.na(dumpster) & dumpster != "") |>
  mutate(trash_wheel = "Mr", year = as.numeric(year)) |> 
  relocate(trash_wheel) |>
   pivot_longer(
    plastic_bottles:sports_balls,
    names_to = "litter_type",
    values_to = "litter_amount"
  )
```

Calculate new homes powered column based on note that 1 ton garbage =
500KW of electricity and 30KW powers 1 house.

``` r
mr_trash_df = 
mutate (mr_trash_df, homes_powered = (weight_tons*500)/30)
```

Next, import Prof. Trash Wheel dataset, clean, and create new
homes_powered variable.

``` r
prof_trash_df = 
  read_excel("data/202207 Trash Wheel Collection Data.xlsx",
  sheet = "Professor Trash Wheel", skip = 1, range = cell_cols(1:13)) |> 
  janitor::clean_names() |>
  subset(!is.na(dumpster) & dumpster != "") |>
  mutate(trash_wheel = "Prof", year = as.numeric(year)) |> 
  relocate(trash_wheel) |>
   pivot_longer(
    plastic_bottles:chip_bags,
    names_to = "litter_type",
    values_to = "litter_amount"
  ) |>
mutate (homes_powered = (weight_tons*500)/30)
```

Next, import Gwynnda Trash Wheel dataset, clean, and create new
homes_powered variable.

``` r
gwynnda_trash_df = 
  read_excel("data/202207 Trash Wheel Collection Data.xlsx",
  sheet = "Gwynnda Trash Wheel", skip = 1, range = cell_cols(1:11)) |> 
  janitor::clean_names() |>
  subset(!is.na(dumpster) & dumpster != "") |>
  mutate(trash_wheel = "Gwynnda", year = as.numeric(year)) |> 
  relocate(trash_wheel) |>
   pivot_longer(
    plastic_bottles:plastic_bags,
    names_to = "litter_type",
    values_to = "litter_amount"
  ) |>
mutate (homes_powered = (weight_tons*500)/30)
```

Combine all 3 trash wheels dataframes.

``` r
trash_wheel_df = 
  bind_rows(mr_trash_df, prof_trash_df, gwynnda_trash_df)
```

The dataframe Trash Wheel consists of combined data from Mister Trash
Wheel, Professor Trash Wheel and Gwynnda Trash Wheel. There are 4817
observations. The variables in the dataframe are trash_wheel, dumpster,
month, year, date, weight_tons, volume_cubic_yards, homes_powered,
litter_type, litter_amount. The types of litter collected are
plastic_bottles, polystyrene, cigarette_butts, glass_bottles,
grocery_bags, chip_bags, sports_balls, plastic_bags. The total weight of
trash collected by Professor Trash Wheel is 190.12. The total weight of
trash collected by Mr. Trash Wheel is 1748.36. And the total weight of
trash collected by Gwynnda Trash Wheel is 308.42.
